<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Star Collector - Telegram Mini App</title>
    <meta name="description" content="Collect stars and earn coins in this fun Telegram Mini App game!" />
    <meta name="keywords" content="telegram, mini app, game, stars, coins, collector" />
    <meta name="author" content="Star Collector Team" />
    
    <!-- Telegram Mini App specific meta tags -->
    <meta name="telegram:card" content="app" />
    <meta name="telegram:site" content="@your_bot_username" />
    <meta name="telegram:title" content="Star Collector" />
    <meta name="telegram:description" content="Collect stars and earn coins!" />
    
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
  </head>
  <body>
    <div id="app">
      <div class="game-container">
        <!-- Header with stats -->
        <div class="header">
          <div class="main-stats">
            <div class="coins-display">
              <span class="star-icon">‚≠ê</span>
              <span id="totalCoins">0</span>
              <span>/ 100,000</span>
            </div>
            <div class="stars-display">
              <span class="star-icon"><img src="public/moko_icon.png" width="28px" alt=""></span>
              <!-- <span class="star-icon">‚≠ê</span> -->
              <span id="totalStars">0</span>
            </div>
          </div>
          
          <div class="progress-section">
            <div class="level-info">
              <span class="star-icon">
                <img src="public/bintang.png" style="
                    height: 20px;
                    position: relative;
                    position-area: bottom;
                    display: flex;
                " />
              </span>
              <span id="currentLevelStars">11,855</span>
              <span class="progress-percent" id="progressPercent">41%</span>
            </div>
            <div class="progress-bar">
              <div class="progress-fill" id="progressFill"></div>
            </div>
          </div>
        </div>

        <!-- Character and main game area -->
        <div class="main-game">
          
          <!-- Reward diamonds -->
          <div class="rewards-grid">
            <div class="reward-item" data-value="960">
              <div class="diamond"></div>
              <span class="reward-value">+960</span>
            </div>
            <div class="reward-item" data-value="9770">
              <div class="diamond"></div>
              <span class="reward-value">+9770</span>
            </div>
            <div class="reward-item" data-value="960">
              <div class="diamond"></div>
              <span class="reward-value">+960</span>
            </div>
            <div class="reward-item" data-value="862">
              <div class="diamond"></div>
              <span class="reward-value">+862</span>
            </div>
            <div class="reward-item" data-value="9770">
              <div class="diamond"></div>
              <span class="reward-value">+9770</span>
            </div>
            <div class="reward-item" data-value="960">
              <div class="diamond"></div>
              <span class="reward-value">+960</span>
            </div>
            <div class="reward-item" data-value="9770">
              <div class="diamond"></div>
              <span class="reward-value">+9770</span>
            </div>
            <div class="reward-item" data-value="960">
              <div class="diamond"></div>
              <span class="reward-value">+960</span>
            </div>
            <div class="reward-item" data-value="862">
              <div class="diamond"></div>
              <span class="reward-value">+862</span>
            </div>
            <div class="reward-item" data-value="9770">
              <div class="diamond"></div>
              <span class="reward-value">+9770</span>
            </div>
            <div class="reward-item" data-value="960">
              <div class="diamond"></div>
              <span class="reward-value">+960</span>
            </div>
            <div class="reward-item" data-value="9770">
              <div class="diamond"></div>
              <span class="reward-value">+9770</span>
            </div>
            <div class="reward-item" data-value="960">
              <div class="diamond"></div>
              <span class="reward-value">+960</span>
            </div>
            <div class="reward-item" data-value="862">
              <div class="diamond"></div>
              <span class="reward-value">+862</span>
            </div>
            <div class="reward-item" data-value="9770">
              <div class="diamond"></div>
              <span class="reward-value">+9770</span>
            </div>
            <!-- <div class="special-reward" data-value="9720">
              <div class="special-diamond"></div>
              <span class="reward-value">+9720</span>
            </div> -->
          </div>
        </div>

        <!-- Booster feature as auto-collector UI clone -->
        <div class="booster-collector">
          <button class="boosters-btn" id="boostersToggleBtn">
            Boosters 2.5x
          </button>

          <div class="collector-info" id="boosterCountdown">
            <div class="collector-text">Booster starts for 5 mn.</div>
            <div class="collector-progress">
              <span class="progress-text">60%</span>
              <div class="mini-progress-bar">
                <div class="mini-progress-fill booster-progress-fill"></div>
              </div>
              <span class="progress-detail">60.0%</span>
            </div>
          </div>
        </div>


        <!-- Auto collector info -->
        <div class="auto-collector">
          <div class="collector-info">
            <div class="collector-text">Auto-collector stars for 10 mn.</div>
            <div class="collector-progress">
              <span class="progress-text">41%</span>
              <div class="mini-progress-bar">
                <div class="mini-progress-fill"></div>
              </div>
              <span class="progress-detail">45.1%</span>
            </div>
          </div>
        </div>

        <!-- User info display -->
        <div id="init-data-value"></div>

        <!-- Bottom navigation -->
        <div class="bottom-nav">
          <div class="nav-item active" data-tab="earn">
            <span class="nav-icon">‚≠ê</span>
            <span class="nav-text">Earn</span>
          </div>
          <div class="nav-item" data-tab="tasks">
            <span class="nav-icon">üìã</span>
            <span class="nav-text">Tasks</span>
          </div>
          <div class="nav-item" data-tab="upgrade">
            <span class="nav-icon">üíº</span>
            <span class="nav-text">Upgrade</span>
          </div>
          <div class="nav-item" data-tab="profile">
            <span class="nav-icon">‚öôÔ∏è</span>
            <span class="nav-text">Profile</span>
          </div>
        </div>

        <!-- Floating coins animation -->
        <div class="floating-coins" id="floatingCoins"></div>
      </div>
    </div>
    <script type="module" src="/src/main.js"></script>
    
    <!-- Make app globally accessible for debugging -->
    <script>
      window.addEventListener('load', () => {
        console.log('üåü Star Collector Mini App loaded!')
        
        // Debug info
        if (window.Telegram?.WebApp) {
          console.log('üì± Telegram WebApp detected:', window.Telegram.WebApp.version)
        } else {
          console.log('üîß Running in demo mode')
        }
      })
    </script>
  </body>
</html>